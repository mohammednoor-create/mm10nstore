<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù…ØªØ¬Ø± Ù…Ø­Ù…Ø¯Ù†ÙˆØ± - ÙÙ† ÙŠØ¯ÙˆÙŠ 100%</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet" />

    <style>
        body { font-family: 'Tajawal', sans-serif; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Custom Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float { animation: float 6s ease-in-out infinite; }
        
        .glass-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 selection:bg-orange-200">
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useMemo } = React;

/* ================= DATA & CONFIG ================= */
const SHOP_INFO = {
    name: "Ù…Ø­Ù…Ø¯Ù†ÙˆØ±",
    full_name: "Ù…ØªØ¬Ø± Ù…Ø­Ù…Ø¯Ù†ÙˆØ±",
    logo: "https://www2.0zz0.com/2025/12/19/06/254463518.jpg",
    whatsapp: "9647766916836", // Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø¨Ø¯ÙˆÙ† +
    instagram: "mm10n",
    slogan: "Ù†Ø­ÙˆÙ‘Ù„ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© Ù„ÙÙ†",
    currency: "Ø¯.Ø¹"
};

const PRODUCTS = [
    {
        id: 1,
        name: "Ø§Ù„Ù…Ø·Ø§Ø±Ø© Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© ",
        price: 12500,
        category: "Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹",
        description: "Ù…Ø·Ø§Ø±Ø© Ø­Ø±Ø§Ø±ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© ØªØ­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø³Ø§Ø®Ù†Ø© ÙˆØ§Ù„Ø¨Ø§Ø±Ø¯Ø© Ø­ØªÙ‰ 12 Ø³Ø§Ø¹Ø©. ÙŠØªÙ… Ø§Ù„Ø±Ø³Ù… Ø¹Ù„ÙŠÙ‡Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ù…ÙˆØ§Ø¯ Ø«Ø§Ø¨ØªØ© ÙˆÙ…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…Ø§Ø¡ØŒ Ù„ØªÙƒÙˆÙ† Ù‚Ø·Ø¹Ø© ÙÙ†ÙŠØ© ØªØ±Ø§ÙÙ‚Ùƒ ÙŠÙˆÙ…ÙŠØ§Ù‹.",
        colors: [{ name: "Ø£Ø¨ÙŠØ¶ ÙƒÙ„Ø§Ø³ÙŠÙƒ", code: "#ffffff", border: true }, { name: "Ø£Ø³ÙˆØ¯ Ù…Ø·ÙÙŠ", code: "#1a1a1a" }],
        // ØªÙ… ØªØ­ÙˆÙŠÙ„ image Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© images Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        images: [
            "https://www2.0zz0.com/2025/12/16/01/695883171.jpg", // Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            "https://www2.0zz0.com/2025/12/16/01/541001937.jpg",
            "https://www2.0zz0.com/2025/12/16/01/444559770.jpg"
        ]
    },
    {
        id: 2,
        name: "Ø§Ù„Ø¯ÙØªØ± Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø®ØµØµ",
        price: 10000,
        category: "Ù„Ù„ØªÙ…ÙŠØ²",
        description: "Ø¯ÙØªØ± ÙØ§Ø®Ø± Ø¨ØºÙ„Ø§Ù Ù…Ù‚ÙˆÙ‰ØŒ ÙŠØªÙ… Ø±Ø³Ù… Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªÙŠ ØªØ®ØªØ§Ø±Ù‡Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø¨Ø£Ø³Ù„ÙˆØ¨ ÙÙ†ÙŠ Ø£Ù†ÙŠÙ‚. Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¯Ø±Ø§Ø³Ø©ØŒ Ø§Ù„Ø¹Ù…Ù„ØŒ Ø£Ùˆ ÙƒÙ‡Ø¯ÙŠØ© ØªØ­Ù…Ù„ Ù‚ÙŠÙ…Ø© ÙˆÙ…Ø¹Ù†Ù‰.",
        colors: [
            { name: "Ø£Ø³ÙˆØ¯ Ù…Ù„ÙƒÙŠ", code: "#000000" },
            { name: "Ø£Ø²Ø±Ù‚ Ù†ÙŠÙ„ÙŠ", code: "#1e3a8a" }
        ],
        // ØªÙ… Ø¥Ø¶Ø§ÙØ© ØµÙˆØ± Ø§Ù„Ø¯ÙØªØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù‡Ù†Ø§
        images: [
            "https://www2.0zz0.com/2025/12/16/01/392857456.jpg", // Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            "https://www2.0zz0.com/2025/12/16/01/560022903.jpg",
            "https://www2.0zz0.com/2025/12/16/01/448406155.jpg",
            "https://www2.0zz0.com/2025/12/16/01/765622544.jpg",
            "https://www2.0zz0.com/2025/12/16/01/789713181.jpg",
            "https://www2.0zz0.com/2025/12/16/01/333174233.jpg"
        ]
    },
    {
        id: 3,
        name: "Ø¯ÙØªØ± Ø¯ÙˆØ¯Ù„ Ø´Ø®ØµÙŠØ§Øª",
        price: 15000,
        category: "Ù‚Ø±ÙŠØ¨Ø§Ù‹",
        comingSoon: true,
        description: "Ø¯ÙØªØ± Ø£Ø³ÙˆØ¯ ØºØ§Ù…Ø¶ Ø¨Ø±Ø³ÙˆÙ…Ø§Øª Ø¯ÙˆØ¯Ù„ Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø´Ø®ØµÙŠØ§Øª ÙˆÙ…Ø³Ù„Ø³Ù„Ø§Øª Ù…Ø­Ø¨ÙˆØ¨Ø©. ØªØµÙ…ÙŠÙ… Ù…Ø®ØªÙ„Ù ÙƒÙ„ÙŠØ§Ù‹ØŒ Ù†Ø§Ø¹Ù…ØŒ Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙÙ†ÙŠØ©.",
        images: ["https://f.top4top.io/p_3653354hf1.png"]
    },
    {
        id: 4,
        name: "Ø¯ÙØªØ± Ø§Ø³Ù… Ù…Ù„ÙˆÙ†",
        price: 18000,
        category: "Ù‚Ø±ÙŠØ¨Ø§Ù‹",
        comingSoon: true,
        description: "Ø¯ÙØªØ± ÙÙ†ÙŠ Ø¨Ø§Ø³Ù…Ùƒ Ù…ÙƒØªÙˆØ¨ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ù…Ù„ÙˆÙ† Ø¬Ø±ÙŠØ¡ ÙˆÙ…Ù…ÙŠØ². Ø£Ù„ÙˆØ§Ù†ØŒ Ø¥Ø­Ø³Ø§Ø³ØŒ ÙˆÙ„Ù…Ø³Ø© ÙÙ†ÙŠØ© ØºÙŠØ± ØªÙ‚Ù„ÙŠØ¯ÙŠØ©.",
        images: ["https://g.top4top.io/p_3653tnrob2.png"] // Solid black image
    }
];

const DELIVERY_RATES = [
    { area: "Ø§Ù„Ù…ÙˆØµÙ„", price: 3000 },
    { area: "Ø§Ù„Ø£Ù‚Ø¶ÙŠØ© ÙˆØ§Ù„Ù†ÙˆØ§Ø­ÙŠ", price: 5000 },
    { area: "Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª", price: 6000 }
];

/* ================= COMPONENTS ================= */

// 1. Navbar Component
const Navbar = ({ cartCount, onOpenCart }) => (
    <nav className="fixed top-0 w-full glass-nav shadow-sm z-40 transition-all duration-300">
        <div className="container mx-auto px-4 h-20 flex items-center justify-between">
            <div className="flex items-center gap-2">
                <div className="w-10 h-10 rounded-full overflow-hidden flex items-center justify-center shadow-sm border border-orange-100">
                    <img src={SHOP_INFO.logo} alt={SHOP_INFO.name} className="w-full h-full object-cover" />
                </div>
                <h1 className="text-2xl font-black tracking-tight">
                    {SHOP_INFO.name}<span className="text-orange-500">.</span>
                </h1>
            </div>
            
            <button 
                onClick={onOpenCart}
                className="relative p-2 hover:bg-gray-100 rounded-full transition-colors duration-300 group"
            >
                <i className="fa-solid fa-shopping-bag text-2xl text-gray-700 group-hover:text-orange-600"></i>
                {cartCount > 0 && (
                    <span className="absolute top-0 right-0 bg-orange-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full animate-bounce">
                        {cartCount}
                    </span>
                )}
            </button>
        </div>
    </nav>
);

// 2. Hero Component
const Hero = () => (
    <section className="bg-gray-900 text-white relative overflow-hidden pt-32 pb-20 px-4">
        {/* Background Pattern */}
        <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'radial-gradient(circle, #ffffff 1px, transparent 1px)', backgroundSize: '30px 30px'}}></div>
        
        <div className="container mx-auto text-center relative z-10">
            <span className="inline-block py-1 px-3 rounded-full bg-orange-500/20 text-orange-300 text-sm font-bold mb-6 border border-orange-500/30">
                âœ¨ ÙÙ† ÙŠØ¯ÙˆÙŠ 100%
            </span>
            <h2 className="text-4xl md:text-6xl font-black mb-6 leading-tight">
                {SHOP_INFO.slogan}
            </h2>
            <p className="text-gray-300 max-w-2xl mx-auto mb-10 text-lg leading-relaxed">
                Ù†Ø­ÙˆÙ„ Ø£Ø¯ÙˆØ§ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø¥Ù„Ù‰ Ù‚Ø·Ø¹ ÙÙ†ÙŠØ© ÙØ±ÙŠØ¯Ø© ØªØ¹Ø¨Ø± Ø¹Ù† Ø´Ø®ØµÙŠØªÙƒ. ÙƒÙ„ Ù‚Ø·Ø¹Ø© ØªÙØ±Ø³Ù… ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø¨Ø¹Ù†Ø§ÙŠØ© ÙˆØ¥Ø­Ø³Ø§Ø³.
            </p>
            
            <div className="flex flex-col md:flex-row gap-4 justify-center items-center">
                <a href="#products" className="bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-xl font-bold transition-all shadow-lg hover:shadow-orange-500/30 flex items-center gap-2">
                    ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª <i className="fa-solid fa-arrow-down"></i>
                </a>
                <div className="flex items-center gap-2 text-green-400 bg-green-900/30 px-6 py-4 rounded-xl border border-green-500/30">
                    <i className="fa-solid fa-gift"></i>
                    <span>Ø³Ø­Ø¨ Ø¹Ù„Ù‰ 100,000 Ø¯.Ø¹ Ù…Ø¹ ÙƒÙ„ Ø·Ù„Ø¨</span>
                </div>
            </div>
        </div>
    </section>
);

// 3. Product Card
const ProductCard = ({ product, onSelect }) => {
    // Show first image as cover
    const mainImage = product.images && product.images.length > 0 ? product.images[0] : '';
    
    return (
        <div 
            onClick={() => !product.comingSoon && onSelect(product)}
            className={`group bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 cursor-pointer flex flex-col h-full ${product.comingSoon ? 'opacity-75 cursor-default' : ''}`}
        >
            <div className="relative aspect-[4/5] overflow-hidden bg-gray-100">
                <img 
                    src={mainImage} 
                    alt={product.name}
                    className={`w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 ${product.comingSoon ? 'filter blur-[2px] grayscale' : ''}`}
                    onError={(e) => { e.target.src = 'https://via.placeholder.com/400x500?text=No+Image'; }}
                />
                
                {product.comingSoon ? (
                    <div className="absolute inset-0 flex items-center justify-center bg-black/40">
                        <span className="bg-black text-white px-6 py-2 rounded-full font-bold backdrop-blur-md border border-white/20">
                            Ù‚Ø±ÙŠØ¨Ø§Ù‹
                        </span>
                    </div>
                ) : (
                    <div className="absolute bottom-4 left-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-4 group-hover:translate-y-0">
                        <button className="bg-white text-black w-10 h-10 rounded-full flex items-center justify-center shadow-lg hover:bg-orange-500 hover:text-white transition-colors">
                            <i className="fa-solid fa-eye"></i>
                        </button>
                    </div>
                )}
                
                <div className="absolute top-4 right-4">
                     <span className="bg-white/90 backdrop-blur text-xs font-bold px-3 py-1 rounded-full shadow-sm">
                        {product.category}
                    </span>
                </div>

                {/* Multi-image indicator */}
                {product.images && product.images.length > 1 && !product.comingSoon && (
                    <div className="absolute bottom-4 right-4 bg-black/50 backdrop-blur text-white text-xs px-2 py-1 rounded-md">
                        <i className="fa-regular fa-images"></i> {product.images.length}
                    </div>
                )}
            </div>

            <div className="p-5 flex flex-col flex-grow">
                <h3 className="text-lg font-bold mb-1 group-hover:text-orange-600 transition-colors">
                    {product.name}
                </h3>
                <p className="text-gray-500 text-sm line-clamp-2 mb-4 flex-grow">
                    {product.description}
                </p>
                <div className="flex items-center justify-between mt-auto">
                    <span className="text-xl font-black text-gray-900">
                        {product.price.toLocaleString()} {SHOP_INFO.currency}
                    </span>
                    {!product.comingSoon && (
                        <span className="text-orange-500 text-sm font-bold flex items-center gap-1 group-hover:translate-x-[-5px] transition-transform">
                            Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† <i className="fa-solid fa-arrow-left"></i>
                        </span>
                    )}
                </div>
            </div>
        </div>
    );
};

// 4. Product Modal (Details & Add to Cart)
const ProductModal = ({ product, isOpen, onClose, onAddToCart }) => {
    const [selectedColor, setSelectedColor] = useState(null);
    const [currentImgIndex, setCurrentImgIndex] = useState(0);

    useEffect(() => {
        if (product && product.colors) {
            setSelectedColor(product.colors[0]);
        }
        setCurrentImgIndex(0); // Reset image index on open
    }, [product]);

    if (!isOpen || !product) return null;

    const images = product.images || [];

    return (
        <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
            <div className="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" onClick={onClose}></div>
            <div className="bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative z-10 shadow-2xl animate-float">
                <button 
                    onClick={onClose}
                    className="absolute top-4 right-4 bg-gray-100 hover:bg-gray-200 w-10 h-10 rounded-full flex items-center justify-center z-20 transition-colors shadow-sm"
                >
                    <i className="fa-solid fa-xmark text-lg"></i>
                </button>

                <div className="grid md:grid-cols-2">
                    {/* Image Section */}
                    <div className="bg-gray-100 flex flex-col">
                        <div className="h-64 md:h-[400px] relative w-full overflow-hidden">
                            <img 
                                src={images[currentImgIndex]} 
                                className="w-full h-full object-cover transition-all duration-300" 
                                alt={product.name}
                                onError={(e) => { e.target.src = 'https://via.placeholder.com/600x600?text=Image+Error'; }}
                            />
                            
                            {/* Navigation Arrows if multiple images */}
                            {images.length > 1 && (
                                <>
                                    <button 
                                        onClick={(e) => { e.stopPropagation(); setCurrentImgIndex(prev => (prev === 0 ? images.length - 1 : prev - 1)); }}
                                        className="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-black w-8 h-8 rounded-full flex items-center justify-center shadow-md transition-all"
                                    >
                                        <i className="fa-solid fa-chevron-left"></i>
                                    </button>
                                    <button 
                                        onClick={(e) => { e.stopPropagation(); setCurrentImgIndex(prev => (prev === images.length - 1 ? 0 : prev + 1)); }}
                                        className="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-black w-8 h-8 rounded-full flex items-center justify-center shadow-md transition-all"
                                    >
                                        <i className="fa-solid fa-chevron-right"></i>
                                    </button>
                                </>
                            )}
                        </div>
                        
                        {/* Thumbnails */}
                        {images.length > 1 && (
                            <div className="p-4 flex gap-2 overflow-x-auto scrollbar-hide bg-white border-t border-gray-100">
                                {images.map((img, idx) => (
                                    <button 
                                        key={idx}
                                        onClick={() => setCurrentImgIndex(idx)}
                                        className={`w-16 h-16 rounded-lg overflow-hidden border-2 flex-shrink-0 transition-all ${currentImgIndex === idx ? 'border-orange-500 opacity-100' : 'border-transparent opacity-60 hover:opacity-100'}`}
                                    >
                                        <img src={img} className="w-full h-full object-cover" />
                                    </button>
                                ))}
                            </div>
                        )}
                    </div>

                    <div className="p-8 flex flex-col justify-center">
                        <span className="text-orange-500 font-bold mb-2 text-sm">{product.category}</span>
                        <h2 className="text-3xl font-black mb-4">{product.name}</h2>
                        <p className="text-gray-600 leading-relaxed mb-6">
                            {product.description}
                        </p>

                        {/* Colors */}
                        {product.colors && (
                            <div className="mb-8">
                                <h4 className="font-bold mb-3 text-sm text-gray-400 uppercase tracking-wider">Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ†</h4>
                                <div className="flex gap-3">
                                    {product.colors.map((color, idx) => (
                                        <button
                                            key={idx}
                                            onClick={() => setSelectedColor(color)}
                                            className={`w-10 h-10 rounded-full border-2 transition-all flex items-center justify-center ${selectedColor?.name === color.name ? 'border-orange-500 scale-110' : 'border-transparent hover:scale-105'}`}
                                            title={color.name}
                                        >
                                            <span 
                                                className={`w-8 h-8 rounded-full block shadow-sm ${color.border ? 'border border-gray-200' : ''}`}
                                                style={{ backgroundColor: color.code }}
                                            ></span>
                                        </button>
                                    ))}
                                </div>
                                <p className="mt-2 text-sm text-gray-500">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø®ØªØ§Ø±: <span className="font-bold text-gray-800">{selectedColor?.name}</span></p>
                            </div>
                        )}

                        <div className="flex items-center justify-between border-t pt-6 mt-auto">
                            <div className="text-3xl font-black">
                                {product.price.toLocaleString()} <span className="text-base font-normal text-gray-500">{SHOP_INFO.currency}</span>
                            </div>
                            <button 
                                onClick={() => {
                                    onAddToCart({ ...product, selectedColor });
                                    onClose();
                                }}
                                className="bg-black text-white px-8 py-3 rounded-xl font-bold hover:bg-orange-500 transition-colors flex items-center gap-2 shadow-lg"
                            >
                                <i className="fa-solid fa-cart-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    );
};

// 5. Cart Drawer
const CartDrawer = ({ isOpen, onClose, cartItems, onRemoveItem }) => {
    // Form State
    const [customerName, setCustomerName] = useState("");
    const [customerPhone, setCustomerPhone] = useState("");
    const [selectedDelivery, setSelectedDelivery] = useState(DELIVERY_RATES[0]);
    const [address, setAddress] = useState("");

    const subtotal = cartItems.reduce((acc, item) => acc + item.price, 0);
    const total = subtotal + selectedDelivery.price;

    const handleWhatsAppCheckout = () => {
        if (cartItems.length === 0) return;
        
        if (!customerName || !customerPhone || !address) {
            alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ù‡Ø§ØªÙØŒ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†)");
            return;
        }

        let message = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${SHOP_INFO.name}* ğŸ¨\n\n`;
        
        message += `*ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:*\n`;
        message += `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${customerName}\n`;
        message += `ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: ${customerPhone}\n`;
        message += `ğŸ“ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙˆØµÙŠÙ„: ${selectedDelivery.area}\n`;
        message += `ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†/Ù†Ù‚Ø·Ø© Ø¯Ø§Ù„Ø©: ${address}\n\n`;
        
        message += `*ğŸ›’ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:*\n`;
        cartItems.forEach((item, index) => {
            message += `${index + 1}. ${item.name} \n   â”” Ø§Ù„Ù„ÙˆÙ†: ${item.selectedColor?.name || 'Ø§ÙØªØ±Ø§Ø¶ÙŠ'} \n   â”” Ø§Ù„Ø³Ø¹Ø±: ${item.price.toLocaleString()}\n`;
        });
        
        message += `\n------------------\n`;
        message += `ğŸ’µ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${subtotal.toLocaleString()}\n`;
        message += `ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„ (${selectedDelivery.area}): ${selectedDelivery.price.toLocaleString()}\n`;
        message += `ğŸ’° *Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ Ù„Ù„Ø¯ÙØ¹: ${total.toLocaleString()} ${SHOP_INFO.currency}*\n`;

        const url = `https://wa.me/${SHOP_INFO.whatsapp}?text=${encodeURIComponent(message)}`;
        window.open(url, '_blank');
    };

    return (
        <>
            {/* Backdrop */}
            <div 
                className={`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 transition-opacity duration-300 ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}
                onClick={onClose}
            ></div>

            {/* Drawer */}
            <div className={`fixed top-0 left-0 h-full w-full max-w-md bg-white z-50 shadow-2xl transform transition-transform duration-300 flex flex-col ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>
                <div className="p-4 border-b flex items-center justify-between bg-gray-50">
                    <h2 className="text-xl font-black flex items-center gap-3">
                        <div className="w-8 h-8 rounded-full overflow-hidden shadow-sm border border-orange-100">
                            <img src={SHOP_INFO.logo} alt={SHOP_INFO.name} className="w-full h-full object-cover" />
                        </div>
                        Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
                    </h2>
                    <button onClick={onClose} className="w-8 h-8 rounded-full hover:bg-gray-200 flex items-center justify-center transition-colors">
                        <i className="fa-solid fa-times"></i>
                    </button>
                </div>

                <div className="flex-1 overflow-y-auto p-4 scrollbar-hide">
                    {cartItems.length === 0 ? (
                        <div className="h-full flex flex-col items-center justify-center text-gray-400 space-y-4">
                            <i className="fa-solid fa-basket-shopping text-6xl opacity-20"></i>
                            <p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                            <button onClick={onClose} className="text-orange-500 font-bold hover:underline">ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
                        </div>
                    ) : (
                        <div className="space-y-6">
                            {/* Products List */}
                            <div className="space-y-3">
                                <h3 className="font-bold text-gray-700 text-sm">1. Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©</h3>
                                {cartItems.map((item, idx) => (
                                    <div key={idx} className="flex gap-3 bg-white p-2 rounded-xl border border-gray-100">
                                        <div className="w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0">
                                            <img src={item.images[0]} className="w-full h-full object-cover" />
                                        </div>
                                        <div className="flex-1 flex flex-col justify-center">
                                            <h4 className="font-bold text-sm text-gray-800">{item.name}</h4>
                                            <p className="text-xs text-gray-500">Ø§Ù„Ù„ÙˆÙ†: {item.selectedColor?.name}</p>
                                            <div className="flex justify-between items-center mt-1">
                                                <span className="font-bold text-orange-600 text-sm">{item.price.toLocaleString()}</span>
                                                <button onClick={() => onRemoveItem(idx)} className="text-red-400 hover:text-red-600">
                                                    <i className="fa-solid fa-trash-can text-xs"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {/* Customer Info Form */}
                            <div className="space-y-3 border-t pt-4">
                                <h3 className="font-bold text-gray-700 text-sm">2. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                                
                                <div>
                                    <label className="block text-xs font-bold text-gray-500 mb-1">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                    <input 
                                        type="text" 
                                        value={customerName}
                                        onChange={(e) => setCustomerName(e.target.value)}
                                        placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§"
                                        className="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-orange-500 transition-colors"
                                    />
                                </div>

                                <div>
                                    <label className="block text-xs font-bold text-gray-500 mb-1">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                    <input 
                                        type="tel" 
                                        value={customerPhone}
                                        onChange={(e) => setCustomerPhone(e.target.value)}
                                        placeholder="0770xxxxxxx"
                                        className="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-orange-500 transition-colors"
                                    />
                                </div>

                                <div>
                                    <label className="block text-xs font-bold text-gray-500 mb-1">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙˆØµÙŠÙ„</label>
                                    <select 
                                        value={JSON.stringify(selectedDelivery)}
                                        onChange={(e) => setSelectedDelivery(JSON.parse(e.target.value))}
                                        className="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-orange-500 transition-colors appearance-none"
                                    >
                                        {DELIVERY_RATES.map((rate, idx) => (
                                            <option key={idx} value={JSON.stringify(rate)}>
                                                {rate.area} - {rate.price.toLocaleString()} {SHOP_INFO.currency}
                                            </option>
                                        ))}
                                    </select>
                                </div>

                                <div>
                                    <label className="block text-xs font-bold text-gray-500 mb-1">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† / Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø© Ø¯Ø§Ù„Ø©</label>
                                    <textarea 
                                        value={address}
                                        onChange={(e) => setAddress(e.target.value)}
                                        placeholder="Ù…Ø«Ø§Ù„: Ø­ÙŠ Ø§Ù„Ø²Ù‡ÙˆØ±ØŒ Ù‚Ø±Ø¨ Ø¬Ø§Ù…Ø¹..."
                                        rows="2"
                                        className="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-orange-500 transition-colors resize-none"
                                    ></textarea>
                                </div>
                            </div>
                        </div>
                    )}
                </div>

                {cartItems.length > 0 && (
                    <div className="p-4 border-t bg-gray-50 shadow-inner">
                        <div className="space-y-1 mb-4 text-sm">
                            <div className="flex justify-between text-gray-500">
                                <span>Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</span>
                                <span>{subtotal.toLocaleString()}</span>
                            </div>
                            <div className="flex justify-between text-gray-500">
                                <span>Ø§Ù„ØªÙˆØµÙŠÙ„ ({selectedDelivery.area}):</span>
                                <span>{selectedDelivery.price.toLocaleString()}</span>
                            </div>
                            <div className="flex justify-between font-black text-lg text-gray-900 border-t pt-2 mt-2">
                                <span>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙƒÙ„ÙŠ:</span>
                                <span>{total.toLocaleString()} {SHOP_INFO.currency}</span>
                            </div>
                        </div>
                        
                        <button 
                            onClick={handleWhatsAppCheckout}
                            className="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-bold shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 transition-all transform active:scale-95"
                        >
                            <i className="fa-brands fa-whatsapp text-xl"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                        </button>
                    </div>
                )}
            </div>
        </>
    );
};

// 6. Footer & Info
const DeliveryInfo = () => (
    <section className="bg-white py-16 border-t">
        <div className="container mx-auto px-4">
            <h3 className="text-3xl font-black text-center mb-10">Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
            <div className="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                {DELIVERY_RATES.map((rate, idx) => (
                    <div key={idx} className="bg-gray-50 p-6 rounded-2xl text-center border hover:border-orange-500 transition-colors group">
                        <div className="w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm group-hover:bg-orange-500 group-hover:text-white transition-colors">
                            <i className="fa-solid fa-truck-fast text-lg"></i>
                        </div>
                        <h4 className="font-bold text-lg mb-1">{rate.area}</h4>
                        <p className="text-2xl font-black text-gray-800">{rate.price.toLocaleString()}</p>
                    </div>
                ))}
            </div>
        </div>
    </section>
);

/* ================= MAIN APP ================= */
function App() {
    const [cart, setCart] = useState([]);
    const [isCartOpen, setIsCartOpen] = useState(false);
    const [selectedProduct, setSelectedProduct] = useState(null);

    const addToCart = (product) => {
        setCart([...cart, product]);
        // Optional: Show simplified toast notification here
    };

    const removeFromCart = (index) => {
        const newCart = [...cart];
        newCart.splice(index, 1);
        setCart(newCart);
    };

    return (
        <div className="min-h-screen flex flex-col">
            <Navbar cartCount={cart.length} onOpenCart={() => setIsCartOpen(true)} />
            
            <main className="flex-grow">
                <Hero />
                
                <section id="products" className="container mx-auto px-4 py-20 -mt-10 relative z-20">
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {PRODUCTS.map(product => (
                            <ProductCard 
                                key={product.id} 
                                product={product} 
                                onSelect={() => setSelectedProduct(product)}
                            />
                        ))}
                    </div>
                </section>

                <DeliveryInfo />
            </main>

            <footer className="bg-gray-900 text-white py-12 border-t border-gray-800">
                <div className="container mx-auto px-4 text-center">
                    <h2 className="text-2xl font-black mb-6">Ù…Ø­Ù…Ø¯<span className="text-orange-500">Ù†ÙˆØ±</span></h2>
                    <div className="flex justify-center gap-6 mb-8">
                        <a href={`https://instagram.com/${SHOP_INFO.instagram}`} target="_blank" className="w-12 h-12 rounded-full bg-gray-800 flex items-center justify-center hover:bg-pink-600 transition-colors">
                            <i className="fa-brands fa-instagram text-xl"></i>
                        </a>
                        <a href={`https://wa.me/${SHOP_INFO.whatsapp}`} target="_blank" className="w-12 h-12 rounded-full bg-gray-800 flex items-center justify-center hover:bg-green-500 transition-colors">
                            <i className="fa-brands fa-whatsapp text-xl"></i>
                        </a>
                    </div>
                    <p className="text-gray-500 text-sm">Â© {new Date().getFullYear()} {SHOP_INFO.full_name} â€“ ØµÙ†Ø¹ Ø¨Ø­Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø±Ø§Ù‚</p>
                </div>
            </footer>

            {/* Modals & Drawers */}
            <ProductModal 
                product={selectedProduct} 
                isOpen={!!selectedProduct} 
                onClose={() => setSelectedProduct(null)} 
                onAddToCart={addToCart}
            />
            
            <CartDrawer 
                isOpen={isCartOpen} 
                onClose={() => setIsCartOpen(false)} 
                cartItems={cart}
                onRemoveItem={removeFromCart}
            />
        </div>
    );
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
</script>
</body>
</html>
